{% extends 'base.html' %}

{% block title %}Cart{% endblock title %}

{% block content %}
<main class="container mx-auto py-6">
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <h2 class="text-2xl font-semibold text-gray-800 py-4 px-6 bg-gray-200">Your Cart</h2>
        <div class="px-6 py-4">
            {% if cart %}
            <ul>
                {% for item in cart %}
                <li class="flex justify-between items-center py-2 border-b border-gray-200">
                    <div><img src="{{item.product.image.url}}" alt="" class="rounded-lg mb-4 w-[150px]"></div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">{{ item.product.name }}</h3>
                        <p class="text-gray-600">Quantity: {{ item.quantity }}</p>
                        <p class="text-gray-600">Price: ${{ item.product.price }}</p>
                    </div>
                    <div>
                        <p class="text-gray-600">Total: ${{ item.total_cost }}</p>
                    </div>
                </li>
                {% endfor %}
            </ul>
            <div class="flex justify-end mt-4">
                <p class="text-xl font-semibold text-gray-800">Shipping: {{shipping_amount}}</p>
            </div>
            <div class="flex justify-end mt-4">
                <p class="text-xl font-semibold text-gray-800">Total: ${{ totalamount }}</p>
            </div>
            <div class="flex justify-end mt-8">
                <a href="{% url 'checkout' %}"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Proceed to Checkout
                </a>
            </div>
            {% else %}
            <p class="text-lg font-semibold text-gray-800 py-4">Your cart is empty.</p>
            <p>Check your orders page</p>

            {% endif %}
        </div>
    </div>
</main>
{% endblock content %}